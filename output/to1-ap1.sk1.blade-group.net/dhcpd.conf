default-lease-time 3600;
max-lease-time 7200;

option tftp-server-address code 150 = array of ip-address;
option pxe-system-type code 93 = array of unsigned integer 16;
option domain-name-servers 172.29.64.2, 172.29.64.3;
option domain-name "sk1.blade-group.net";
option domain-search "sk1.blade-group.net";

# Provisioning subnets
group {
  ignore-client-uids true; # iPXE sends a Client-ID while PXE does not
  option tftp-server-address 172.29.64.88;
  if exists user-class and option user-class = "iPXE" {
    filename "http://boot-api.sk1.blade-group.net/boot/ipxe/chainload/";
  } elsif option pxe-system-type = 00:07 {
    next-server 172.29.64.88;
    filename "ipxe.efi";
  } else {
    next-server 172.29.64.88;
    filename "undionly.kpxe";
  }

  # Port swp1
  subnet 10.143.173.64 netmask 255.255.255.252 {
    range 10.143.173.66;
    option routers 10.143.173.65;
  }

  # Port swp2
  subnet 10.143.173.68 netmask 255.255.255.252 {
    range 10.143.173.70;
    option routers 10.143.173.69;
  }

  # Port swp3
  subnet 10.143.173.72 netmask 255.255.255.252 {
    range 10.143.173.74;
    option routers 10.143.173.73;
  }

  # Port swp4
  subnet 10.143.173.76 netmask 255.255.255.252 {
    range 10.143.173.78;
    option routers 10.143.173.77;
  }

  # Port swp51
  subnet 10.143.174.8 netmask 255.255.255.252 {
    range 10.143.174.10;
    option routers 10.143.174.9;
  }

  # Port swp52
  subnet 10.143.174.12 netmask 255.255.255.252 {
    range 10.143.174.14;
    option routers 10.143.174.13;
  }

}

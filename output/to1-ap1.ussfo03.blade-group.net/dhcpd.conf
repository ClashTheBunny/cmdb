default-lease-time 3600;
max-lease-time 7200;

option tftp-server-address code 150 = array of ip-address;
option pxe-system-type code 93 = array of unsigned integer 16;
option domain-name-servers 172.30.20.2, 172.30.20.3;
option domain-name "ussfo03.blade-group.net";
option domain-search "ussfo03.blade-group.net";

# Provisioning subnets
group {
  ignore-client-uids true; # iPXE sends a Client-ID while PXE does not
  option tftp-server-address 172.30.20.87;
  if exists user-class and option user-class = "iPXE" {
    filename "http://boot-api.ussfo03.blade-group.net/boot/ipxe/chainload/";
  } elsif option pxe-system-type = 00:07 {
    next-server 172.30.20.87;
    filename "ipxe.efi";
  } else {
    next-server 172.30.20.87;
    filename "undionly.kpxe";
  }

  # Port swp1s0
  subnet 10.145.173.64 netmask 255.255.255.252 {
    range 10.145.173.66;
    option routers 10.145.173.65;
  }

  # Port swp1s1
  subnet 10.145.173.68 netmask 255.255.255.252 {
    range 10.145.173.70;
    option routers 10.145.173.69;
  }

  # Port swp1s2
  subnet 10.145.173.72 netmask 255.255.255.252 {
    range 10.145.173.74;
    option routers 10.145.173.73;
  }

  # Port swp1s3
  subnet 10.145.173.76 netmask 255.255.255.252 {
    range 10.145.173.78;
    option routers 10.145.173.77;
  }

  # Port swp2s0
  subnet 10.145.173.80 netmask 255.255.255.252 {
    range 10.145.173.82;
    option routers 10.145.173.81;
  }

  # Port swp2s1
  subnet 10.145.173.84 netmask 255.255.255.252 {
    range 10.145.173.86;
    option routers 10.145.173.85;
  }

  # Port swp2s2
  subnet 10.145.173.88 netmask 255.255.255.252 {
    range 10.145.173.90;
    option routers 10.145.173.89;
  }

  # Port swp2s3
  subnet 10.145.173.92 netmask 255.255.255.252 {
    range 10.145.173.94;
    option routers 10.145.173.93;
  }

  # Port swp3s0
  subnet 10.145.173.96 netmask 255.255.255.252 {
    range 10.145.173.98;
    option routers 10.145.173.97;
  }

  # Port swp3s1
  subnet 10.145.173.100 netmask 255.255.255.252 {
    range 10.145.173.102;
    option routers 10.145.173.101;
  }

  # Port swp3s2
  subnet 10.145.173.104 netmask 255.255.255.252 {
    range 10.145.173.106;
    option routers 10.145.173.105;
  }

  # Port swp3s3
  subnet 10.145.173.108 netmask 255.255.255.252 {
    range 10.145.173.110;
    option routers 10.145.173.109;
  }

  # Port swp4s0
  subnet 10.145.173.112 netmask 255.255.255.252 {
    range 10.145.173.114;
    option routers 10.145.173.113;
  }

  # Port swp4s1
  subnet 10.145.173.116 netmask 255.255.255.252 {
    range 10.145.173.118;
    option routers 10.145.173.117;
  }

  # Port swp4s2
  subnet 10.145.173.120 netmask 255.255.255.252 {
    range 10.145.173.122;
    option routers 10.145.173.121;
  }

  # Port swp4s3
  subnet 10.145.173.124 netmask 255.255.255.252 {
    range 10.145.173.126;
    option routers 10.145.173.125;
  }

  # Port swp5s0
  subnet 10.145.173.128 netmask 255.255.255.252 {
    range 10.145.173.130;
    option routers 10.145.173.129;
  }

  # Port swp5s1
  subnet 10.145.173.132 netmask 255.255.255.252 {
    range 10.145.173.134;
    option routers 10.145.173.133;
  }

  # Port swp5s2
  subnet 10.145.173.136 netmask 255.255.255.252 {
    range 10.145.173.138;
    option routers 10.145.173.137;
  }

  # Port swp5s3
  subnet 10.145.173.140 netmask 255.255.255.252 {
    range 10.145.173.142;
    option routers 10.145.173.141;
  }

  # Port swp6s0
  subnet 10.145.173.144 netmask 255.255.255.252 {
    range 10.145.173.146;
    option routers 10.145.173.145;
  }

  # Port swp6s1
  subnet 10.145.173.148 netmask 255.255.255.252 {
    range 10.145.173.150;
    option routers 10.145.173.149;
  }

  # Port swp6s2
  subnet 10.145.173.152 netmask 255.255.255.252 {
    range 10.145.173.154;
    option routers 10.145.173.153;
  }

  # Port swp6s3
  subnet 10.145.173.156 netmask 255.255.255.252 {
    range 10.145.173.158;
    option routers 10.145.173.157;
  }

  # Port swp29s0
  subnet 10.145.175.0 netmask 255.255.255.252 {
    range 10.145.175.2;
    option routers 10.145.175.1;
  }

  # Port swp29s1
  subnet 10.145.175.4 netmask 255.255.255.252 {
    range 10.145.175.6;
    option routers 10.145.175.5;
  }

  # Port swp30s0
  subnet 10.145.175.16 netmask 255.255.255.252 {
    range 10.145.175.18;
    option routers 10.145.175.17;
  }

  # Port swp30s1
  subnet 10.145.175.20 netmask 255.255.255.252 {
    range 10.145.175.22;
    option routers 10.145.175.21;
  }

}

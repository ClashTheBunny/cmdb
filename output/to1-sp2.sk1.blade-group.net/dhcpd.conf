default-lease-time 3600;
max-lease-time 7200;

option tftp-server-address code 150 = array of ip-address;
option pxe-system-type code 93 = array of unsigned integer 16;
option domain-name-servers 172.29.64.2, 172.29.64.3;
option domain-name "sk1.blade-group.net";
option domain-search "sk1.blade-group.net";

# Provisioning subnets
group {
  ignore-client-uids true; # iPXE sends a Client-ID while PXE does not
  option tftp-server-address 172.29.64.88;
  if exists user-class and option user-class = "iPXE" {
    filename "http://boot-api.sk1.blade-group.net/boot/ipxe/chainload/";
  } elsif option pxe-system-type = 00:07 {
    next-server 172.29.64.88;
    filename "ipxe.efi";
  } else {
    next-server 172.29.64.88;
    filename "undionly.kpxe";
  }

  # Port swp1
  subnet 10.143.164.192 netmask 255.255.255.252 {
    range 10.143.164.194;
    option routers 10.143.164.193;
  }

  # Port swp2
  subnet 10.143.164.196 netmask 255.255.255.252 {
    range 10.143.164.198;
    option routers 10.143.164.197;
  }

  # Port swp3
  subnet 10.143.164.200 netmask 255.255.255.252 {
    range 10.143.164.202;
    option routers 10.143.164.201;
  }

  # Port swp4
  subnet 10.143.164.204 netmask 255.255.255.252 {
    range 10.143.164.206;
    option routers 10.143.164.205;
  }

  # Port swp5
  subnet 10.143.164.208 netmask 255.255.255.252 {
    range 10.143.164.210;
    option routers 10.143.164.209;
  }

  # Port swp6
  subnet 10.143.164.212 netmask 255.255.255.252 {
    range 10.143.164.214;
    option routers 10.143.164.213;
  }

  # Port swp7
  subnet 10.143.164.216 netmask 255.255.255.252 {
    range 10.143.164.218;
    option routers 10.143.164.217;
  }

  # Port swp8
  subnet 10.143.164.220 netmask 255.255.255.252 {
    range 10.143.164.222;
    option routers 10.143.164.221;
  }

  # Port swp9
  subnet 10.143.164.224 netmask 255.255.255.252 {
    range 10.143.164.226;
    option routers 10.143.164.225;
  }

  # Port swp10
  subnet 10.143.164.228 netmask 255.255.255.252 {
    range 10.143.164.230;
    option routers 10.143.164.229;
  }

  # Port swp11
  subnet 10.143.164.232 netmask 255.255.255.252 {
    range 10.143.164.234;
    option routers 10.143.164.233;
  }

  # Port swp12
  subnet 10.143.164.236 netmask 255.255.255.252 {
    range 10.143.164.238;
    option routers 10.143.164.237;
  }

}

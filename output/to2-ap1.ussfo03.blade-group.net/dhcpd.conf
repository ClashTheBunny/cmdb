default-lease-time 3600;
max-lease-time 7200;

option tftp-server-address code 150 = array of ip-address;
option pxe-system-type code 93 = array of unsigned integer 16;
option domain-name-servers 172.30.20.2, 172.30.20.3;
option domain-name "ussfo03.blade-group.net";
option domain-search "ussfo03.blade-group.net";

# Provisioning subnets
group {
  ignore-client-uids true; # iPXE sends a Client-ID while PXE does not
  option tftp-server-address 172.30.20.87;
  if exists user-class and option user-class = "iPXE" {
    filename "http://boot-api.ussfo03.blade-group.net/boot/ipxe/chainload/";
  } elsif option pxe-system-type = 00:07 {
    next-server 172.30.20.87;
    filename "ipxe.efi";
  } else {
    next-server 172.30.20.87;
    filename "undionly.kpxe";
  }

  # Port swp1s0
  subnet 10.145.175.96 netmask 255.255.255.252 {
    range 10.145.175.98;
    option routers 10.145.175.97;
  }

  # Port swp1s1
  subnet 10.145.175.100 netmask 255.255.255.252 {
    range 10.145.175.102;
    option routers 10.145.175.101;
  }

  # Port swp1s2
  subnet 10.145.175.104 netmask 255.255.255.252 {
    range 10.145.175.106;
    option routers 10.145.175.105;
  }

  # Port swp1s3
  subnet 10.145.175.108 netmask 255.255.255.252 {
    range 10.145.175.110;
    option routers 10.145.175.109;
  }

  # Port swp2s0
  subnet 10.145.175.112 netmask 255.255.255.252 {
    range 10.145.175.114;
    option routers 10.145.175.113;
  }

  # Port swp2s1
  subnet 10.145.175.116 netmask 255.255.255.252 {
    range 10.145.175.118;
    option routers 10.145.175.117;
  }

  # Port swp2s2
  subnet 10.145.175.120 netmask 255.255.255.252 {
    range 10.145.175.122;
    option routers 10.145.175.121;
  }

  # Port swp2s3
  subnet 10.145.175.124 netmask 255.255.255.252 {
    range 10.145.175.126;
    option routers 10.145.175.125;
  }

  # Port swp3s0
  subnet 10.145.175.128 netmask 255.255.255.252 {
    range 10.145.175.130;
    option routers 10.145.175.129;
  }

  # Port swp3s1
  subnet 10.145.175.132 netmask 255.255.255.252 {
    range 10.145.175.134;
    option routers 10.145.175.133;
  }

  # Port swp3s2
  subnet 10.145.175.136 netmask 255.255.255.252 {
    range 10.145.175.138;
    option routers 10.145.175.137;
  }

  # Port swp3s3
  subnet 10.145.175.140 netmask 255.255.255.252 {
    range 10.145.175.142;
    option routers 10.145.175.141;
  }

  # Port swp4s0
  subnet 10.145.175.144 netmask 255.255.255.252 {
    range 10.145.175.146;
    option routers 10.145.175.145;
  }

  # Port swp4s1
  subnet 10.145.175.148 netmask 255.255.255.252 {
    range 10.145.175.150;
    option routers 10.145.175.149;
  }

  # Port swp4s2
  subnet 10.145.175.152 netmask 255.255.255.252 {
    range 10.145.175.154;
    option routers 10.145.175.153;
  }

  # Port swp4s3
  subnet 10.145.175.156 netmask 255.255.255.252 {
    range 10.145.175.158;
    option routers 10.145.175.157;
  }

  # Port swp5s0
  subnet 10.145.175.160 netmask 255.255.255.252 {
    range 10.145.175.162;
    option routers 10.145.175.161;
  }

  # Port swp5s1
  subnet 10.145.175.164 netmask 255.255.255.252 {
    range 10.145.175.166;
    option routers 10.145.175.165;
  }

  # Port swp5s2
  subnet 10.145.175.168 netmask 255.255.255.252 {
    range 10.145.175.170;
    option routers 10.145.175.169;
  }

  # Port swp5s3
  subnet 10.145.175.172 netmask 255.255.255.252 {
    range 10.145.175.174;
    option routers 10.145.175.173;
  }

  # Port swp6s0
  subnet 10.145.175.176 netmask 255.255.255.252 {
    range 10.145.175.178;
    option routers 10.145.175.177;
  }

  # Port swp6s1
  subnet 10.145.175.180 netmask 255.255.255.252 {
    range 10.145.175.182;
    option routers 10.145.175.181;
  }

  # Port swp6s2
  subnet 10.145.175.184 netmask 255.255.255.252 {
    range 10.145.175.186;
    option routers 10.145.175.185;
  }

  # Port swp6s3
  subnet 10.145.175.188 netmask 255.255.255.252 {
    range 10.145.175.190;
    option routers 10.145.175.189;
  }

  # Port swp29s0
  subnet 10.145.177.32 netmask 255.255.255.252 {
    range 10.145.177.34;
    option routers 10.145.177.33;
  }

  # Port swp29s1
  subnet 10.145.177.36 netmask 255.255.255.252 {
    range 10.145.177.38;
    option routers 10.145.177.37;
  }

  # Port swp30s0
  subnet 10.145.177.48 netmask 255.255.255.252 {
    range 10.145.177.50;
    option routers 10.145.177.49;
  }

  # Port swp30s1
  subnet 10.145.177.52 netmask 255.255.255.252 {
    range 10.145.177.54;
    option routers 10.145.177.53;
  }

}

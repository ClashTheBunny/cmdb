default-lease-time 3600;
max-lease-time 7200;

option tftp-server-address code 150 = array of ip-address;
option pxe-system-type code 93 = array of unsigned integer 16;
option domain-name-servers 172.29.64.2, 172.29.64.3;
option domain-name "sk1.blade-group.net";
option domain-search "sk1.blade-group.net";

# Provisioning subnets
group {
  ignore-client-uids true; # iPXE sends a Client-ID while PXE does not
  option tftp-server-address 172.29.64.88;
  if exists user-class and option user-class = "iPXE" {
    filename "http://boot-api.sk1.blade-group.net/boot/ipxe/chainload/";
  } elsif option pxe-system-type = 00:07 {
    next-server 172.29.64.88;
    filename "ipxe.efi";
  } else {
    next-server 172.29.64.88;
    filename "undionly.kpxe";
  }

  # Port swp1
  subnet 10.143.166.224 netmask 255.255.255.252 {
    range 10.143.166.226;
    option routers 10.143.166.225;
  }

  # Port swp2
  subnet 10.143.166.228 netmask 255.255.255.252 {
    range 10.143.166.230;
    option routers 10.143.166.229;
  }

  # Port swp3
  subnet 10.143.166.232 netmask 255.255.255.252 {
    range 10.143.166.234;
    option routers 10.143.166.233;
  }

  # Port swp4
  subnet 10.143.166.236 netmask 255.255.255.252 {
    range 10.143.166.238;
    option routers 10.143.166.237;
  }

  # Port swp5
  subnet 10.143.166.240 netmask 255.255.255.252 {
    range 10.143.166.242;
    option routers 10.143.166.241;
  }

  # Port swp6
  subnet 10.143.166.244 netmask 255.255.255.252 {
    range 10.143.166.246;
    option routers 10.143.166.245;
  }

  # Port swp7
  subnet 10.143.166.248 netmask 255.255.255.252 {
    range 10.143.166.250;
    option routers 10.143.166.249;
  }

  # Port swp8
  subnet 10.143.166.252 netmask 255.255.255.252 {
    range 10.143.166.254;
    option routers 10.143.166.253;
  }

  # Port swp9
  subnet 10.143.167.0 netmask 255.255.255.252 {
    range 10.143.167.2;
    option routers 10.143.167.1;
  }

  # Port swp10
  subnet 10.143.167.4 netmask 255.255.255.252 {
    range 10.143.167.6;
    option routers 10.143.167.5;
  }

  # Port swp11
  subnet 10.143.167.8 netmask 255.255.255.252 {
    range 10.143.167.10;
    option routers 10.143.167.9;
  }

  # Port swp12
  subnet 10.143.167.12 netmask 255.255.255.252 {
    range 10.143.167.14;
    option routers 10.143.167.13;
  }

}
